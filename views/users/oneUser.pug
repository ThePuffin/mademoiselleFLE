extends ../layout

block content
    div#oneUsers
        .row.mx-auto
            .col-md-12.pt-2.pb-5
                button.btn.btn-dark(onclick='{retour()}') Retour liste
                .card.border-light
                    .card-body 
                        h3=`Profil de ${users.firstname} ${users.name}`
                        .card(style='width: 20rem;')
                            img(src=`${users.picture}`)
                            ul.list-group.list-group-flush
                                
                                li.list-group-item
                                    span.intitule Nom : 
                                    span=`${users.name}`
                                li.list-group-item
                                    span.intitule Prénom : 
                                    span=`${users.firstname}`
                                li.list-group-item
                                    span.intitule Sexe : 
                                    h3="a faire" 
                                li.list-group-item
                                    span.intitule Adresse mail : 
                                    span=`${users.email}`
                                li.list-group-item
                                    span.intitule Skype : 
                                    span=`${users.skype_id}` 
                                li.list-group-item
                                    span.intitule Pays : 
                                    span=`${users.country}`                   
                                li.list-group-item
                                    span.intitule Langue natale : 
                                    span=`${users.native_language}`                                
                                li.list-group-item
                                    span.intitule Autres langues : 
                                    span=`${users.other_language}`                                
                                li.list-group-item
                                    span.intitule Niveau de français : 
                                    span=`${users.french_level}`
                                li.list-group-item
                                    span.intitule Objectif : 
                                    span=`${users.objective}`
                                li.list-group-item
                                    span.intitule Création du compte : 
                                    span=`${users.createdAt}`
                            .card-body
                                if users.active===true
                                    button.btn.btn-danger.float-right(data-id=users.id, data-name=users.name, data-firstname=users.firstname,onclick='{desactiveFunction(this)}') Suspendre
                                else 
                                    button.btn.btn-info.float-right(data-id=users.id, data-name=users.name, data-firstname=users.firstname,onclick='{activeFunction(this)}') Réactiver  

        script.
            function desactiveFunction(e) {
            const name =  e.dataset.name
            const firstname =  e.dataset.firstname
            let ok;
            ok = confirm(`Voulez-vous desactivé ${firstname} ${name}?`);
            if (ok === true) {
                const id =  e.dataset.id
                window.location.href=(`/backoffice/users/desactive/${id}`)
            } 
            }

            function activeFunction(e) {
            const name =  e.dataset.name
            const firstname =  e.dataset.firstname
            let ok;
            ok = confirm(`Voulez-vous réactivé ${firstname} ${name}?`);
            if (ok === true) {
                const id =  e.dataset.id
                window.location.href=(`/backoffice/users/active/${id}`)
            } 
            }        

            function retour(e){
                //- alert("coucou")
                window.location.href=`/backoffice/users`
            }
             
             
             
             
                    //- h2 Profil
    //- img(src=`${users.picture}`)
    //- p=users.name
    //- p=users.firstname
    //- p=users.country

    //- p
    //-     if users.active===false
    //-         a.btn.btn-info( href=`/backoffice/users/active/${users.id}`) Suspendre
    //-     else 
    //-         a.btn.btn-info(href=`/backoffice/users/desactive/${users.id}`) Réactiver
    
        